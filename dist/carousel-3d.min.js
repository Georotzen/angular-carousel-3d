/*!
 * angular-directive-boilerplate
 * 
 * Version: 0.0.8 - 2015-10-01T19:25:38.022Z
 * License: MIT
 */
!function(){"use strict";function t(t,e,i,l,r){function s(){f={slides:[],rightItems:[],leftItems:[],rightOutItem:null,leftOutItem:null,visible:3,perspective:35,animationSpeed:500,startSlide:0,dir:"ltr",total:0,slide:0,current:null,width:480,height:360,border:10,space:"auto",topSpace:"auto",lock:!1};var t=g.children();if(!t.length>0)return!1;angular.extend(f,p.carousel3dOptions),g.css({width:f.width+f.border+"px",height:f.height+f.border+"px"});for(var e=0;e<t.length;e++){var i=t[e],l=angular.element(i),r={outerwidth:f.width+f.border,outerheight:f.height+f.border,width:f.width,height:f.height,index:e},s={visibility:"hidden","border-width":f.border+"px"};l.attr(r),l.css(s),f.slides.push(l)}f.total=f.slides.length,f.startSlide=f.startSlide<0||f.startSlide>f.total?0:f.startSlide,f.slide=f.startSlide,f.currentSlide=f.slides[f.slide],f.visible=f.visible>f.total?f.total:f.visible,f.visible=2===f.visible?f.visible%2?f.visible:f.visible:f.visible%2?f.visible:f.visible-1,m()}function n(t){f.slide!=t?c(t):p.onSelectedClick&&p.onSelectedClick({index:f.slide})}function o(t,e,i){f.slide==f.total-1,f.slide=0>t||t>f.total-1?0:t,f.slide==f.total-1,f.currentSlide=f.slides[f.slide];for(var r=0;r<f.slides.length;r++)f.slides[r].removeClass("current");return f.lock=!0,m(!0,f.animationSpeed),i?!1:(l(function(){u()},f.animationSpeed),!0)}function a(t){return t=t?t:!1,!t&&f.lock?!1:(f.slide==f.total?o(0,!1,t):o(f.slide+1,!1,t),!1)}function d(t){return t=t?t:!1,!t&&f.lock?!1:(0==f.slide?o(f.total-1,!1,t):o(f.slide-1,!1,t),!1)}function c(t){var e=t==f.total-1&&0==f.slide?-1:t-f.slide;f.slide==f.total-1&&0==t&&(e=1);for(var i=0>e?-e:e,r=0,s=0;i>s;s++){var n=1==i?0:r;l(function(){0>e?d(i):a(i)},n),r+=f.animationSpeed/i}l(function(){u()},f.animationSpeed)}function u(){f.lock=!1,p.onSlideChange&&p.onSlideChange({index:f.slide})}function h(t,e,i,l){var r=parseInt("auto"==f.space?(e+1)*(parseInt(angular.element(t).attr("width"))/1.5):(e+1)*f.space),s=l?"translateX("+r+"px) translateZ(-"+(250+110*(e+1))+"px) rotateY(-"+f.perspective+"deg)":"translateX(-"+r+"px) translateZ(-"+(250+110*(e+1))+"px) rotateY("+f.perspective+"deg)",n="0%",o="auto"==f.topSpace?"none":parseInt((e+1)*f.space),a="none",d="none",c="visible";return{"-webkit-transform":s,"-moz-transform":s,"-o-transform":s,"-ms-transform":s,transform:s,left:n,top:o,width:a,height:d,zIndex:i,overflow:c}}function m(t,e){var i=Math.floor(f.visible/2)+1;f.leftItems=[],f.rightItems=[];for(var l=1;i>l;l++){var r="ltr"==f.dir?(f.slide+l)%f.total:(f.slide-l)%f.total;f.leftItems.push(v(r));var s="ltr"==f.dir?(f.slide-l)%f.total:(f.slide+l)%f.total;f.rightItems.push(v(s))}f.leftOutItem=v(f.slide-i),f.rightOutItem=v(f.total-f.slide-i<=0?-parseInt(f.total-f.slide-i):f.slide+i);var n=f.leftOutItem,o=f.rightOutItem;"ltr"==f.dir&&(f.leftOutItem=o,f.rightOutItem=n);var a,d="auto"==f.topSpace?f.height/2-parseInt(f.currentSlide.attr("outerheight"))/2:0,c=f.width/2-parseInt(f.currentSlide.attr("outerwidth"))/2,u=(f.width/4,999),m={},p=e?e/1e3:f.animationSpeed/1e3;if(t)for(var g=0;g<f.slides.length;g++)f.slides[g].css({"-webkit-transition":"all "+p+"s ","-moz-transition":"all "+p+"s ","-o-transition":"all "+p+"s ","-ms-transition":"all "+p+"s ",transition:"all "+p+"s "});for(var b=0;b<f.slides.length;b++)f.slides[b].css({position:"absolute",opacity:0,visibility:"hidden",overflow:"hidden",top:d+"px"});f.currentSlide.addClass("current").css({zIndex:u,opacity:1,visibility:"visible"}),f.currentSlide.css({"-webkit-transform":"none","-moz-transform":"none","-o-transform":"none","-ms-transform":"none",transform:"none",left:c+"px",top:d+"px",width:f.currentSlide.attr("width")+"px",height:f.currentSlide.attr("height")+"px"});for(var I=0;I<f.rightItems.length;I++)a=f.rightItems[I],u-=I+1,m=h(a,I,u,!0),a.css(m).css({opacity:1,visibility:"visible",zIndex:u});for(var S=0;S<f.leftItems.length;S++)a=f.leftItems[S],u-=S+1,m=h(a,S,u),a.css(m).css({opacity:1,visibility:"visible",zIndex:u});if(f.total>f.visible){var w=h(f.rightOutItem,f.leftItems.length-.5,f.leftItems.length-1,!0),x=h(f.leftOutItem,f.leftItems.length-.5,f.leftItems.length-1);f.rightOutItem.css(w),f.leftOutItem.css(x)}}function v(t){return t>=0?f.slides[t]:f.slides[f.slides.length+t]}var p=this;p.init=s,p.slideClicked=n,p.goPrev=d,p.goNext=a;var f=null,g=e.children();t.$watch("vm.ngModel",function(t){l(function(){s()})},!0),t.$watch("vm.carousel3dOptions",function(t){l(function(){s()})},!0)}function e(t){function e(t,e){return i}function i(t,e,i,l,r){}var l={restrict:"AE",template:'<div class="carousel-3d-container"><div class="carousel-3d"><img ng-repeat="image in vm.ngModel track by $index" ng-src="{{image[vm.carousel3dSourceProp]}}" class="slide-3d" ng-click="vm.slideClicked($index)" ng-swipe-left="vm.goPrev()" ng-swipe-right="vm.goNext()"></div></div>',replace:!0,scope:{ngModel:"=",carousel3dSourceProp:"@",carousel3dOptions:"=",onSelectedClick:"&",onSlideChange:"&"},controller:"Carousel3dController as vm",bindToController:!0,compile:e,link:i};return l}angular.module("angular-carousel-3d",["swipe"]).directive("carousel3d",e).controller("Carousel3dController",t),t.$inject=["$scope","$element","$attrs","$timeout","$log"],e.$inject=["$timeout"]}();